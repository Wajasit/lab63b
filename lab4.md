# การทดลองที่ 4 เรื่อง การเขียนโปรแกรมอินพุทสัญญาณดิจิทัล
## วัตถุประสงค์ 
1. ศึกษาการนำเข้าสัญญาณอินพุตจากภายนอกเข้ามาในตัวไมโครคอนโทรลเลอร์
## อุปกรณ์ที่ใช้ 
1. ไมโครคอนโทรลเลอร์ ESP-01
2. ซีเรียล
3. สาย USB
4. อแดปเตอร์
5. เซนเซอร์แสง
6. ตัวต้านทาน
## ศึกษาข้อมูลเบื้องต้น 
https://www.youtube.com/watch?v=nFqoZT26U5k
## วิธีการทำการทดลอง 
1. ต่อไมโครคอนโทรลเลอร์เข้ากับอแดปเตอร์ แล้วจึงนำไปต่อเข้ากับซีเรียล
2. ทำการอัพโหลดโปรแกรม โดยใช้คำสัง pio run -t upload
  <img width="1420" alt="ภาพหน้าจอ " src="https://user-images.githubusercontent.com/80881019/112387703-aca89300-8d24-11eb-82bf-2459a08c7e81.png">

        #include <Arduino.h>
        #include <ESP8266WiFi.h>

        int cnt = 0;

        void setup()
        {
          Serial.begin(115200);
          pinMode(0, INPUT);
          pinMode(2, OUTPUT);
          Serial.println("\n\n\n");
        }

        void loop()
        {
          int val = digitalRead(0);
          Serial.printf("======= read %d\n", val);
          if(val==1) {
            digitalWrite(2, LOW);
          } else {
            digitalWrite(2, HIGH);
          }
          delay(100);
        }

3. ทำการกดปุ่มทั้งสองที่ซีเรียล เพื่อทำการอัพโหลดเข้าไปในไมโครคอนโทรลเลอร์
4. ใช้คำสั่ง pio device monitor เพื่อแสดงผล
 <img width="1408" alt="ภาพหน้าจอ " src="https://user-images.githubusercontent.com/80881019/112387986-12951a80-8d25-11eb-97bd-493b67babd66.png">
5. เมื่อทำให้พอตศูนย์ เป็น 0 จะทำให้สัญญาณอินพุตเป็น 0 และไฟจะเปิด โดยการนำสายไฟสีขาวแตะที่สายไฟสีดำ  หรือกดปุ่มสีดำก็ทำให้พอตศูนย์เป็น 0 เช่นกัน
  <img width="1433" alt="ภาพหน้าจอ " src="https://user-images.githubusercontent.com/80881019/112388678-17a69980-8d26-11eb-8d66-239775ea2adc.png">
6. ต่อเซนเซอร์แสงเข้าไป ถ้าไม่มีอะไรบังเซนเซอร์ สัญญาณจะเป็น 0 ไฟจะเปิด
<img width="1408" alt="ภาพหน้าจอ " src="https://user-images.githubusercontent.com/80881019/112390423-dfed2100-8d28-11eb-9447-7dece935b944.png">

7. บังเซนเซอร์แสง ทำให้สัญญาณ เป็น 1 ไฟจะปิด 
<img width="1417" alt="ภาพหน้าจอ " src="https://user-images.githubusercontent.com/80881019/112390435-e54a6b80-8d28-11eb-865d-4ace6c60d837.png">

## การบันทึกผลการทดลอง 
 หาทำให้พอตศูนย์มีอินพุตเป็น 0 จะทำให้ไฟติด แต่ถ้าหากทำให้เป็น 1 จะทำให้ไฟดับ
## อภิปรายผลการทดลอง 
จากการืดลองเรานำสายสีขาวไปแตะสายสีดำทำให้สัญญาณอินพุตเป็น 0 ไฟจึงติด เช่นเดียวกับการ กดปุ่มสีดำที่ตัวซีเรียล และ การไม่บังเซนเซอร์รับแสง แต่ถ้าหากทำให้สัญญาณอินพุตเป็น 1 จะทำให้ไฟดับโดยการเอามือบังเซนเซอร์รับแสง
## คำถามหลังการทดลอง
* Q: ถ้่าหากเราเปลี่ยนเงื่อนไข
void loop() 
        { 
          int val = digitalRead(0); 
          Serial.printf("======= read %d\n", val);  
          if(val==1) {  
            digitalWrite(2, LOW); 
          } else {  
            digitalWrite(2, HIGH);  
          }}  
       จะเกิดอะไรขึ้น 
* A: เมื่อพอตศูนย์เป็น 0 ไฟจะติด และเมื่อเป็น 1 ไฟจะดับ
